# ğŸ“ MapLog â€” ì§€ë„ ìœ„ì˜ ë‚˜ë§Œì˜ ì¼ê¸°

> ë°©ë¬¸í•œ ì¥ì†Œë¥¼ ì§€ë„ì— ë§ˆí‚¹í•˜ê³  ì¼ê¸°ë¥¼ ê¸°ë¡í•˜ëŠ” ì†Œì…œ ë‹¤ì´ì–´ë¦¬ ì„œë¹„ìŠ¤

---

## ğŸ“Œ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
  - [ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ (CQRS, S3)](docs/introduction/03-backend-architecture.md)
  - [í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜ (Pinia, Axios)](docs/introduction/04-frontend-architecture.md)
  - [SSE ì‹¤ì‹œê°„ ì•Œë¦¼ ê°€ì´ë“œ](docs/infrastructure/sse-guide.md)
  - [K8s í´ëŸ¬ìŠ¤í„° ì•„í‚¤í…ì²˜ ëª…ì„¸](docs/infrastructure/k8s-architecture.md)
- [íŒ¨í‚¤ì§€ êµ¬ì¡°](#íŒ¨í‚¤ì§€-êµ¬ì¡°)
- [í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°](#í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°)
- [ì—­í•  ë¶„ë‹´](#ì—­í• -ë¶„ë‹´)
- [í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê°€ì´ë“œ](#í”„ë¡ íŠ¸ì—”ë“œ-ê°œë°œ-ê°€ì´ë“œ)
- [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
- [í™˜ê²½ ë³€ìˆ˜](#í™˜ê²½-ë³€ìˆ˜)
- [API ê³µí†µ ê·œê²©](#api-ê³µí†µ-ê·œê²©)
- [ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸](#ì£¼ìš”-api-ì—”ë“œí¬ì¸íŠ¸)
- [í…ŒìŠ¤íŠ¸](#í…ŒìŠ¤íŠ¸)
- [Git ì»¨ë²¤ì…˜](#git-ì»¨ë²¤ì…˜)
- [ê¸°ì—¬ ê°€ì´ë“œ](#ê¸°ì—¬-ê°€ì´ë“œ)
- [ë¼ì´ì„ ìŠ¤](#ë¼ì´ì„ ìŠ¤)

---

## í”„ë¡œì íŠ¸ ì†Œê°œ

MapLogëŠ” ì‚¬ìš©ìê°€ ë°©ë¬¸í•œ ì¥ì†Œë¥¼ ì§€ë„ì— ë§ˆí‚¹í•˜ê³ , ê·¸ ìœ„ì— ì¼ê¸°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ì†Œì…œ ë‹¤ì´ì–´ë¦¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### âœ¨ í•µì‹¬ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ğŸ—ºï¸ ì§€ë„ ê¸°ë°˜ ì¼ê¸° | ìœ„ì¹˜ ì •ë³´ì™€ í•¨ê»˜ ì¼ê¸° ì‘ì„±, ì§€ë„ ìœ„ì— ë§ˆì»¤ë¡œ í‘œì‹œ |
| ğŸ–¼ï¸ ì´ë¯¸ì§€ ì²¨ë¶€ | ì¼ê¸° ì‘ì„±/ìˆ˜ì • ì‹œ ì´ë¯¸ì§€ íŒŒì¼ ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ |
| ğŸ”’ ê³µê°œ ë²”ìœ„ ì„¤ì • | ì¹œêµ¬ ê³µê°œ / ë¹„ê³µê°œ ì„ íƒ |
| ğŸ‘¥ ì†Œì…œ ê¸°ëŠ¥ | ì¹œêµ¬ ì¶”ê°€, ê³µìœ ë°›ì€ ì¼ê¸° ì¡°íšŒ |
| ğŸ“¤ ì¼ê¸° ê³µìœ  | íŠ¹ì • ì¹œêµ¬ì—ê²Œ ì¼ê¸° ì§ì ‘ ê³µìœ  / ê³µìœ  ì·¨ì†Œ |
| ğŸ”– ìŠ¤í¬ë© | ë§ˆìŒì— ë“œëŠ” ì¼ê¸° ë¶ë§ˆí¬ |
| ğŸ”” ì•Œë¦¼ | ì¹œêµ¬ ìš”ì²­ ë“± ì•Œë¦¼, ì¼ê´„ ì‚­ì œ ì§€ì› |

---

## ê¸°ìˆ  ìŠ¤íƒ

### Backend

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| Language | Java 21 |
| Framework | Spring Boot 3.5 |
| Build | Gradle |
| ORM | Spring Data JPA |
| DB | MariaDB 11 |
| Security | Spring Security + JWT |
| Infra | Docker, Kubernetes, Jenkins |

### Frontend

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| Framework | Vue 3 (Composition API) |
| Router | Vue Router 4 |
| Build | Vite |
| HTTP | Axios |

---

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Vue 3 Frontend               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Boot Backend               â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    Spring Data JPA  â”‚  â”‚  Spring Security â”‚ â”‚
â”‚  â”‚      (ORM)          â”‚  â”‚   JWT Auth       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚             â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚             MariaDB 11                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## íŒ¨í‚¤ì§€ êµ¬ì¡°

```
src/main/java/com/maplog/
â”œâ”€â”€ user/             # íšŒì› + ì¸ì¦ (JWT, ë¡œê·¸ì¸/íšŒì›ê°€ì…)
â”‚   â”œâ”€â”€ command/      # ì“°ê¸° (Controller, Service, Domain, Repository, DTO)
â”‚   â””â”€â”€ query/        # ì½ê¸° (Controller, Service, Repository, DTO)
â”œâ”€â”€ diary/            # ì¼ê¸° + ìŠ¤í¬ë© + ì´ë¯¸ì§€ + ê³µìœ 
â”‚   â”œâ”€â”€ command/
â”‚   â””â”€â”€ query/
â”œâ”€â”€ friend/           # ì¹œêµ¬
â”‚   â”œâ”€â”€ command/
â”‚   â””â”€â”€ query/
â”œâ”€â”€ notification/     # ì•Œë¦¼
â”‚   â”œâ”€â”€ command/
â”‚   â””â”€â”€ query/
â””â”€â”€ common/           # ê³µí†µ (ì‘ë‹µ í¬ë§·, ì˜ˆì™¸ì²˜ë¦¬, JWT í•„í„°, ì„¤ì •)
    â””â”€â”€ storage/      # íŒŒì¼ ì—…ë¡œë“œ/ì‚­ì œ (FileStorageService)
```

---

## í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

```
map-log-frontend/
â”œâ”€â”€ index.html
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ package.json
â””â”€â”€ src/
    â”œâ”€â”€ main.js
    â””â”€â”€ app/
        â”œâ”€â”€ App.vue
        â”œâ”€â”€ router/
        â”‚   â””â”€â”€ index.js
        â”œâ”€â”€ api/
        â”‚   â”œâ”€â”€ axios.js
        â”‚   â”œâ”€â”€ auth.js
        â”‚   â”œâ”€â”€ diary.js
        â”‚   â”œâ”€â”€ friend.js
        â”‚   â”œâ”€â”€ notification.js
        â”‚   â””â”€â”€ user.js
        â”œâ”€â”€ components/
        â”‚   â””â”€â”€ Layout.vue
        â”œâ”€â”€ styles/
        â”‚   â””â”€â”€ index.css
        â”œâ”€â”€ data/
        â”‚   â””â”€â”€ MockData.js
        â””â”€â”€ views/
            â”œâ”€â”€ LoginView.vue
            â”œâ”€â”€ SignUpView.vue
            â”œâ”€â”€ MapView.vue
            â”œâ”€â”€ FeedView.vue
            â”œâ”€â”€ FriendView.vue
            â”œâ”€â”€ NotificationsView.vue
            â”œâ”€â”€ MyPageView.vue
            â”œâ”€â”€ DiaryDetailView.vue
            â””â”€â”€ AdminView.vue
```

### í™”ë©´/ë¼ìš°íŠ¸ ì„¤ê³„(ì´ˆì•ˆ)

| í™”ë©´(View) | Path(ì˜ˆì‹œ) | ì„¤ëª… |
|------|------|------|
| `LoginView` | `/login` | ë¡œê·¸ì¸ |
| `SignUpView` | `/signup` | íšŒì›ê°€ì… |
| `MapView` | `/map` | ì§€ë„ ê¸°ë°˜ ì¼ê¸° ëª©ë¡/ì‘ì„± ì§„ì… |
| `DiaryDetailView` | `/diaries/:diaryId` | ì¼ê¸° ìƒì„¸ |
| `FeedView` | `/feed` | ì¹œêµ¬ í”¼ë“œ |
| `FriendView` | `/friends` | ì¹œêµ¬ ëª©ë¡/ìš”ì²­ |
| `NotificationsView` | `/notifications` | ì•Œë¦¼ ëª©ë¡ |
| `MyPageView` | `/mypage` | ë§ˆì´í˜ì´ì§€ |
| `AdminView` | `/admin` | ê´€ë¦¬ì í™”ë©´ |

### í”„ë¡ íŠ¸ ë°ì´í„° íë¦„(ê¶Œì¥)

1. Viewì—ì„œ ì‚¬ìš©ì ì•¡ì…˜ ë°œìƒ
2. `src/app/api/*` ëª¨ë“ˆì—ì„œ ë°±ì—”ë“œ API í˜¸ì¶œ
3. `ApiResponse` í¬ë§· íŒŒì‹± í›„ í™”ë©´ ìƒíƒœ ì—…ë°ì´íŠ¸
4. ì¸ì¦ í•„ìš” APIëŠ” `Authorization: Bearer {token}` í—¤ë” ì‚¬ìš©

> axios ì¸í„°ì…‰í„°ì—ì„œ í† í° ë§Œë£Œ ì‹œ ìë™ ì¬ë°œê¸‰ ì²˜ë¦¬ê°€ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë©°, ë„ë©”ì¸ë³„ API ëª¨ë“ˆ(`auth.js`, `diary.js`, `friend.js`, `notification.js`, `user.js`)ì´ ë¶„ë¦¬ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## ì—­í•  ë¶„ë‹´

| ë‹´ë‹¹      | ë„ë©”ì¸ | í™”ë©´ |
|---------|------|------|
| **ì •í˜„í˜¸** | `user` (íšŒì› + ì¸ì¦/JWT + ê´€ë¦¬ì API) | LoginView, SignUpView, MyPageView |
| **ê¹€ì„ ì¼** | `diary` (ì¼ê¸° + ìŠ¤í¬ë©) | MapView, DiaryWriteView, DiaryDetailView |
| **ì •ë³‘ì§„** | `friend` + `notification` | FeedView, FriendsView, NotificationsView |
| **ê¹€íƒœí˜•** | `common` (ê³µí†µ ê¸°ë°˜ ì„¸íŒ…) | â€” |

### D ìƒì„¸ ì‘ì—… ëª©ë¡ (1ì¼ì°¨ ìµœìš°ì„  ì™„ë£Œ)

| ìˆœì„œ | ì‘ì—… | ì„¤ëª… |
|------|------|------|
| 1 | `build.gradle` ì˜ì¡´ì„± ì¶”ê°€ | Web, JPA, Security, MySQL, JWT, Validation ë“± |
| 2 | `application-dev.yml` DB ì„¤ì • | ë¡œì»¬ MySQL ì—°ê²° í™•ì¸ |
| 3 | `ApiResponse<T>` ì™„ì„± | ê³µí†µ ì‘ë‹µ í¬ë§·, ì—ëŸ¬ ì½”ë“œ enum ì •ì˜ |
| 4 | `GlobalExceptionHandler` êµ¬í˜„ | `@RestControllerAdvice` ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ |
| 5 | `AppConfig` êµ¬í˜„ | CORS ì„¤ì •, PasswordEncoder Bean ë“±ë¡ |
| 6 | `SecurityConfig` êµ¬í˜„ | JWT í•„í„° ì²´ì¸, ì¸ì¦ ë¶ˆí•„ìš” ê²½ë¡œ ì„¤ì • |
| 7 | `JwtTokenProvider` êµ¬í˜„ | í† í° ìƒì„±/ê²€ì¦/íŒŒì‹± ìœ í‹¸ (Aì™€ í˜‘ì—…) |
| 8 | DB í…Œì´ë¸” ì„¤ê³„ í™•ì • | ì „ì²´ íŒ€ ERD ë¦¬ë·° ë° DDL ê³µìœ  |

> Dê°€ 1~7ì„ ì™„ë£Œí•´ì•¼ AÂ·BÂ·Cê°€ ë³¸ê²©ì ìœ¼ë¡œ ì‹œì‘ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ê°œë°œ ì‹œì‘ ìˆœì„œ

```
D â†’ common ê³µí†µ ê¸°ë°˜ ì„¸íŒ… (ìµœìš°ì„ )
         â†“
    A â†’ User Entity + JWT ì™„ì„±
         â†“              â†“
    B (ì¼ê¸°)        C (ì†Œì…œ)
```

---

## í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê°€ì´ë“œ

### ë¡œì»¬ ì‹¤í–‰

```bash
cd map-log-frontend
npm install
npm run dev
```

### í”„ë¡œë•ì…˜ ë¹Œë“œ

```bash
cd map-log-frontend
npm run build
```

### í™˜ê²½ ë³€ìˆ˜ (`.env.local`)

```bash
VITE_API_BASE_URL=http://localhost:8080
```

### API ì—°ë™ ê·œì¹™

1. ê³µí†µ HTTP í´ë¼ì´ì–¸íŠ¸ëŠ” `src/app/api/axios.js`ì—ì„œ ìƒì„±/ê´€ë¦¬
2. ë„ë©”ì¸ APIëŠ” `src/app/api/diary.js`ì²˜ëŸ¼ ê¸°ëŠ¥ë³„ íŒŒì¼ë¡œ ë¶„ë¦¬
3. ì‘ë‹µì€ ë°±ì—”ë“œ ê³µí†µ í¬ë§·(`code`, `message`, `data`) ê¸°ì¤€ìœ¼ë¡œ ì²˜ë¦¬
4. 401/403 ë“± ì¸ì¦ ì˜¤ë¥˜ëŠ” ì¸í„°ì…‰í„°ì—ì„œ ê³µí†µ ì²˜ë¦¬

---

## ê°œë°œ í™˜ê²½ ì„¤ì •

### ì‚¬ì „ ì¤€ë¹„

- Java 21
- Docker Desktop
- Node.js 20+

### Backend ì‹¤í–‰

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/{org}/map-log.git
cd map-log

# 2. MariaDB ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (ìµœì´ˆ 1íšŒ)
docker compose up -d

# 3. ë°±ì—”ë“œ ì‹¤í–‰
cd map-log-backend
./gradlew bootRun
```

> ê¸°ë³¸ í”„ë¡œí•„ì€ `dev`ì…ë‹ˆë‹¤. ìš´ì˜ í™˜ê²½ì€ `--spring.profiles.active=prod`ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.

### MariaDB ì»¨í…Œì´ë„ˆ ê´€ë¦¬

```bash
docker compose up -d    # ì‹œì‘
docker compose down     # ì¤‘ì§€ (ë°ì´í„° ìœ ì§€)
docker compose down -v  # ì¤‘ì§€ + ë°ì´í„° ì‚­ì œ
```

### Frontend ì‹¤í–‰

```bash
cd map-log-frontend
npm install
npm run dev
```

> ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:5173` ì ‘ì†

---

## í™˜ê²½ ë³€ìˆ˜

Spring BootëŠ” `application-{profile}.yml`ë¡œ í™˜ê²½ë³„ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

### ê°œë°œ í™˜ê²½ (`application-dev.yml`)

ë¡œì»¬ ê°œë°œ ì‹œ ì•„ë˜ ê°’ì„ ë³¸ì¸ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•˜ì„¸ìš”. **ì´ íŒŒì¼ì€ ì»¤ë°‹í•´ë„ ë©ë‹ˆë‹¤.**

```yaml
spring:
  datasource:
    url: jdbc:mariadb://localhost:3306/maplog_dev
    username: root
    password: 1234   # ë³¸ì¸ MariaDB ë¹„ë°€ë²ˆí˜¸ë¡œ ë³€ê²½

jwt:
  secret: dev-secret-key-must-be-at-least-32-characters-long

app:
  upload-dir: uploads   # ì´ë¯¸ì§€ íŒŒì¼ ì €ì¥ ê²½ë¡œ (ê¸°ë³¸ê°’: í”„ë¡œì íŠ¸ ë£¨íŠ¸/uploads)
```

### ìš´ì˜ í™˜ê²½ (`application-prod.yml`)

`${ë³€ìˆ˜ëª…}` í˜•íƒœë¡œ ì‘ì„±ë˜ì–´ ìˆìœ¼ë©°, ì‹¤ì œ ê°’ì€ ì„œë²„ í™˜ê²½ ë³€ìˆ˜ ë˜ëŠ” Docker/Kubernetes ì‹œí¬ë¦¿ìœ¼ë¡œ ì£¼ì…í•©ë‹ˆë‹¤. **ì ˆëŒ€ ì‹¤ì œ ê°’ì„ ymlì— ì§ì ‘ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”.**

| ë³€ìˆ˜ëª… | ì„¤ëª… |
|--------|------|
| `DB_HOST` | MySQL í˜¸ìŠ¤íŠ¸ (RDS ì—”ë“œí¬ì¸íŠ¸ ë“±) |
| `DB_NAME` | ë°ì´í„°ë² ì´ìŠ¤ëª… |
| `DB_USERNAME` | DB ì‚¬ìš©ì |
| `DB_PASSWORD` | DB ë¹„ë°€ë²ˆí˜¸ |
| `JWT_SECRET` | JWT ì„œëª… í‚¤ (32ì ì´ìƒ) |

---

## API ê³µí†µ ê·œê²©

### ì‘ë‹µ í¬ë§·

```json
{
  "code": "SUCCESS",
  "message": "ìš”ì²­ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤.",
  "data": { }
}
```

### ì—ëŸ¬ ì‘ë‹µ í¬ë§·

```json
{
  "code": "USER_NOT_FOUND",
  "message": "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìì…ë‹ˆë‹¤.",
  "data": null
}
```

### í˜ì´ì§•

```json
{
  "code": "SUCCESS",
  "message": "ì¡°íšŒ ì„±ê³µ",
  "data": {
    "content": [],
    "page": 0,
    "size": 10,
    "totalElements": 100,
    "totalPages": 10,
    "last": false
  }
}
```

### ì¸ì¦ í—¤ë”

```
Authorization: Bearer {accessToken}
```

### ë‚ ì§œ í˜•ì‹

```
yyyy-MM-ddTHH:mm:ss  (ISO 8601)
ì˜ˆ) 2026-02-19T14:30:00
```

---

## ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

### ì‚¬ìš©ì / ì¸ì¦ `ë‹´ë‹¹: A`

| No | Method | Endpoint | ì„¤ëª… | ì¸ì¦ | ìš°ì„ ìˆœìœ„ |
|----|--------|----------|------|------|---------|
| 1 | POST | `/api/auth/signup` | íšŒì›ê°€ì… | ë¶ˆí•„ìš” | í•„ìˆ˜ |
| 2 | POST | `/api/auth/login` | ë¡œê·¸ì¸ | ë¶ˆí•„ìš” | í•„ìˆ˜ |
| 3 | POST | `/api/auth/refresh` | í† í° ì¬ë°œê¸‰ | RT | í•„ìˆ˜ |
| 4 | POST | `/api/auth/logout` | ë¡œê·¸ì•„ì›ƒ | í•„ìš” | í•„ìˆ˜ |
| 5 | GET | `/api/users/me` | ë§ˆì´í˜ì´ì§€ ì¡°íšŒ | í•„ìš” | í•„ìˆ˜ |
| 6 | PATCH | `/api/users/me` | í”„ë¡œí•„ ìˆ˜ì • (í”„ë¡œí•„ ì´ë¯¸ì§€ ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì§€ì›) | í•„ìš” | í•„ìˆ˜ |
| 7 | GET | `/api/users/me/diaries` | ë‚´ ì¼ê¸° ëª©ë¡ | í•„ìš” | í•„ìˆ˜ |
| 8 | GET | `/api/users/me/scraps` | ë‚´ ìŠ¤í¬ë© ëª©ë¡ | í•„ìš” | ë³´í†µ |
| 9 | DELETE | `/api/users/me` | íšŒì› íƒˆí‡´ | í•„ìš” | ì¤‘ìš” |
| 10 | GET | `/api/users/search` | ì‚¬ìš©ì ê²€ìƒ‰ | í•„ìš” | ë³´í†µ |
| 10-1 | GET | `/api/users/check-nickname` | ë‹‰ë„¤ì„ ì¤‘ë³µ í™•ì¸ | ë¶ˆí•„ìš” | ë³´í†µ |
| 11 | GET | `/api/admin/users` | íšŒì› ëª©ë¡ ì¡°íšŒ | ADMIN | ì¤‘ìš” |
| 12 | PATCH | `/api/admin/users/{userId}/status` | íšŒì› ìƒíƒœ ë³€ê²½ (ì •ì§€/í™œì„±í™”) | ADMIN | ì¤‘ìš” |

> No.11, 12ëŠ” ë³„ë„ `admin` ë„ë©”ì¸ ì—†ì´ `user` ë„ë©”ì¸ ë‚´ `AdminUserController`ë¡œ êµ¬í˜„

### ì¼ê¸° / ìŠ¤í¬ë© `ë‹´ë‹¹: B`

| No | Method | Endpoint | ì„¤ëª… | ì¸ì¦ | ìš°ì„ ìˆœìœ„ |
|----|--------|----------|------|------|---------|
| 13 | POST | `/api/diaries` | ì¼ê¸° ì‘ì„± (ì´ë¯¸ì§€ ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì§€ì›) | í•„ìš” | í•„ìˆ˜ |
| 14 | GET | `/api/diaries/{diaryId}` | ì¼ê¸° ìƒì„¸ ì¡°íšŒ (ì´ë¯¸ì§€ ëª©ë¡ í¬í•¨) | í•„ìš” | í•„ìˆ˜ |
| 15 | PUT | `/api/diaries/{diaryId}` | ì¼ê¸° ìˆ˜ì • (ì´ë¯¸ì§€ ì¶”ê°€/ì‚­ì œ ì§€ì›) | í•„ìš” | í•„ìˆ˜ |
| 16 | DELETE | `/api/diaries/{diaryId}` | ì¼ê¸° ì‚­ì œ (Soft Delete) | í•„ìš” | í•„ìˆ˜ |
| 17 | GET | `/api/diaries/map` | ì§€ë„ ë²”ìœ„ ë‚´ ë§ˆì»¤ ì¡°íšŒ | í•„ìš” | í•„ìˆ˜ |
| 17-1 | POST | `/api/diaries/{diaryId}/share` | ì¼ê¸°ë¥¼ íŠ¹ì • ì¹œêµ¬ì—ê²Œ ê³µìœ  | í•„ìš” | ë³´í†µ |
| 17-2 | DELETE | `/api/diaries/{diaryId}/share/{userId}` | ì¼ê¸° ê³µìœ  ì·¨ì†Œ | í•„ìš” | ë³´í†µ |
| 18 | POST | `/api/scraps` | ìŠ¤í¬ë© ì¶”ê°€ | í•„ìš” | ë³´í†µ |
| 19 | DELETE | `/api/scraps/{diaryId}` | ìŠ¤í¬ë© ì·¨ì†Œ | í•„ìš” | ë³´í†µ |

### ì¹œêµ¬ / ì•Œë¦¼ `ë‹´ë‹¹: C`

| No | Method | Endpoint | ì„¤ëª… | ì¸ì¦ | ìš°ì„ ìˆœìœ„ |
|----|--------|----------|------|------|---------|
| 20 | POST | `/api/friends` | ì¹œêµ¬ ìš”ì²­ | í•„ìš” | ë³´í†µ |
| 21 | PATCH | `/api/friends/{friendId}` | ì¹œêµ¬ ìš”ì²­ ì‘ë‹µ (ìˆ˜ë½/ê±°ì ˆ) | í•„ìš” | ë³´í†µ |
| 22 | GET | `/api/friends` | ì¹œêµ¬ ëª©ë¡ ì¡°íšŒ | í•„ìš” | ë³´í†µ |
| 23 | GET | `/api/friends/pending` | ë°›ì€ ì¹œêµ¬ ìš”ì²­ ëª©ë¡ | í•„ìš” | ë³´í†µ |
| 24 | GET | `/api/feed` | ì¹œêµ¬ ê³µê°œ ì¼ê¸° í”¼ë“œ | í•„ìš” | ë³´í†µ |
| 25 | GET | `/api/notifications` | ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ | í•„ìš” | ì¤‘ìš” |
| 26 | PATCH | `/api/notifications/{notificationId}/read` | ì•Œë¦¼ ë‹¨ê±´ ì½ìŒ | í•„ìš” | ì¤‘ìš” |
| 27 | PATCH | `/api/notifications/read-all` | ì•Œë¦¼ ì „ì²´ ì½ìŒ | í•„ìš” | ì¤‘ìš” |
| 28 | DELETE | `/api/notifications` | ì•Œë¦¼ ì¼ê´„ ì‚­ì œ (`?isRead=Y\|N` í•„í„° ê°€ëŠ¥) | í•„ìš” | ì¤‘ìš” |

#### ìš”ì²­ ì˜ˆì‹œ

```json
POST /api/diaries
Authorization: Bearer {accessToken}

{
  "title": "ì„œìš¸ ì—¬í–‰",
  "content": "ì˜¤ëŠ˜ ê²½ë³µê¶ì„ ë‹¤ë…€ì™”ë‹¤.",
  "latitude": 37.5796,
  "longitude": 126.9770,
  "locationName": "ê²½ë³µê¶",
  "address": "ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì‚¬ì§ë¡œ 161",
  "visitedAt": "2026-02-19T14:00:00"
}
```

#### ì‘ë‹µ ì˜ˆì‹œ

```json
{
  "code": "SUCCESS",
  "message": "ì¼ê¸°ê°€ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    "diaryId": 1,
    "title": "ì„œìš¸ ì—¬í–‰",
    "createdAt": "2026-02-19T14:30:00"
  }
}
```

---

## í…ŒìŠ¤íŠ¸

```bash
cd map-log-backend

# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# íŠ¹ì • ë„ë©”ì¸ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
./gradlew test --tests "com.maplog.diary.*"
```

> í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” `build/reports/tests/test/index.html` ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## Git ì»¨ë²¤ì…˜

### ë¸Œëœì¹˜ ì „ëµ

```
main
â””â”€â”€ dev
    â”œâ”€â”€ feature/A-user
    â”œâ”€â”€ feature/B-diary
    â”œâ”€â”€ feature/C-social
    â””â”€â”€ feature/D-common
```

### ì»¤ë°‹ ë©”ì‹œì§€

```
feat:     ìƒˆë¡œìš´ ê¸°ëŠ¥
fix:      ë²„ê·¸ ìˆ˜ì •
refactor: ë¦¬íŒ©í† ë§
test:     í…ŒìŠ¤íŠ¸ ì½”ë“œ
docs:     ë¬¸ì„œ ìˆ˜ì •
chore:    ë¹Œë“œ/ì„¤ì • ë³€ê²½
```

ì˜ˆì‹œ

```
feat: ì¼ê¸° ì‘ì„± API êµ¬í˜„
fix: JWT í† í° ë§Œë£Œ ì²˜ë¦¬ ì˜¤ë¥˜ ìˆ˜ì •
```

### PR ê·œì¹™

- `feature/*` â†’ `dev` ë¡œ PR
- ìµœì†Œ 1ëª… ì´ìƒ ì½”ë“œ ë¦¬ë·° í›„ ë¨¸ì§€
- `main` ë¨¸ì§€ëŠ” ë°°í¬ ì‹œì—ë§Œ

---

## ê¸°ì—¬ ê°€ì´ë“œ

1. `dev` ë¸Œëœì¹˜ì—ì„œ ë³¸ì¸ ë‹´ë‹¹ `feature/*` ë¸Œëœì¹˜ ìƒì„±
2. ì‘ì—… ì™„ë£Œ í›„ `dev`ë¡œ PR ìƒì„±
3. PR ì œëª©ì— ë‹´ë‹¹ íŒŒíŠ¸ ëª…ì‹œ (ì˜ˆ: `[B] ì¼ê¸° ì‘ì„± API êµ¬í˜„`)
4. ê´€ë ¨ ì´ìŠˆ ë²ˆí˜¸ í¬í•¨ (ì˜ˆ: `Closes #12`)
5. ìµœì†Œ 1ëª… ë¦¬ë·° ìŠ¹ì¸ í›„ ë¨¸ì§€

> **ì£¼ì˜:** `application-prod.yml`ì— ì‹¤ì œ ë¹„ë°€ë²ˆí˜¸Â·ì‹œí¬ë¦¿ í‚¤ë¥¼ ì§ì ‘ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”.

---

## ë¼ì´ì„ ìŠ¤

This project is licensed under the MIT License.
